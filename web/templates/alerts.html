{{define "content"}}
<!-- 筛选器 -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card">
            <div class="card-body">
                <div class="row g-3">
                    <div class="col-md-3">
                        <label for="ruleFilter" class="form-label">规则筛选</label>
                        <select class="form-select" id="ruleFilter">
                            <option value="">全部规则</option>
                            {{range .Rules}}
                            <option value="{{.Name}}">{{.Name}}</option>
                            {{end}}
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="levelFilter" class="form-label">级别筛选</label>
                        <select class="form-select" id="levelFilter">
                            <option value="">全部级别</option>
                            <option value="Critical">Critical</option>
                            <option value="High">High</option>
                            <option value="Medium">Medium</option>
                            <option value="Low">Low</option>
                            <option value="Info">Info</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="timeFilter" class="form-label">时间范围</label>
                        <select class="form-select" id="timeFilter">
                            <option value="1">最近1小时</option>
                            <option value="6">最近6小时</option>
                            <option value="24" selected>最近24小时</option>
                            <option value="168">最近7天</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">&nbsp;</label>
                        <div class="d-grid">
                            <button class="btn btn-primary" onclick="applyFilters()">
                                <i class="bi bi-search"></i> 筛选
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 告警列表 -->
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h6 class="m-0 font-weight-bold text-primary">告警列表</h6>
                <div>
                    <button class="btn btn-sm btn-primary" onclick="refreshAlerts()">
                        <i class="bi bi-arrow-clockwise"></i> 刷新
                    </button>
                </div>
            </div>
            <div class="card-body">
                <div id="alertsContainer">
                    <div class="text-center">
                        <div class="spinner-border" role="status">
                            <span class="visually-hidden">加载中...</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 告警详情模态框 -->
<div class="modal fade" id="alertDetailModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">告警详情</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body" id="alertDetailContent">
                <!-- 详情内容将通过 JavaScript 填充 -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
            </div>
        </div>
    </div>
</div>
{{end}}

{{define "scripts"}}
<script src="/static/js/alerts.js"></script>
{{end}}
